---
layout:  post
title: 리눅스(linux) 문법
tags:
- linux
---


## 현재 디렉토리의 파일 목록을 출력하는 명령어. 'ls -l'은 자세히 보기
`ls`

## 현재 위치하고 있는 디렉토리
`pwd`

## 프로세스 상태보기
`ps -ef | grep`

## 프로세스 상태보기
`ps aux | grep`

## alias 보기
`vim ~/.bashrc`

## 마지막 변경된 파일 아래로
`ls -lart`

## 현재경로 용량 확인
`du -hs *`
## 전체 용량 확인
`df -h`
## CPU 사용률 체크
`top`
`ps -ef | grep PID입력`
## Find
`find ./ -name 파일명.확장자`
## 스크립트 수정 후 적용
`source .소스명`

## 리눅스 버전확인
`cat /etc/redhat-release`

## $ grep [옵션] [찾을 문자열 정규 표현식] [파일명]
```
많이 사용하는 옵션
-c : 패턴이 일치하는 행의 수를 출력
-i : 비교시 대소문자를 구별하지 않음.
-v : 지정한 패턴과 일치하지 않는 행만 출력
-r : 서브 디렉토리의 파일까지 모두 출력
-n : 행의 번호를 함께 출력
-l : 패턴이 포함된 파일의 이름을 출력
-w : 패턴이 전체 단어와 일치하는 행만 출력
-A NUM : 패턴매칭라인 이후의 라인을 NUM수만큼 출력
-B NUM : 패턴매칭라인 이전의 내용을 NUM수만큼 출력.
-C NUM : 출력물 앞뒤 전후의 주어진 라인만큼 출력
```

## kill [option] [-시그널번호 or -시그널이름] PID
```
많이 사용하는 옵션
-1 SIGHUP(HUP) : hang up의 약자로 프로세스를 재시작시키는 시그널이다.
-2 SIGINT(INT) : 인터럽트. 실행을 중지시킨다. = [CTRL] + [C]
-3 QUIT : 키보드 종료. 
-9 SIGKILL(KILL) : 무조건 종료, 즉 강제 종료시키는 시그널이다.
-15 SIGTERM(TERM) : Terminate의 약자로 가능한 정상 종료시키는 시그널로 kill 명령의 기본시그널이다.
-18 CONT : Continue. STOP등에 의해 정지된 프로세스를 다시 실행시킨다.
-19 STOP : 무조건적, 즉각적 정지
-20 TSTP : 실행 정지 후 다시 실행을 계속하기 위하여 대기시키는 시그널이다. = [CTRL] +[Z]
```

## find [경로] [옵션] [expression]
```
많이 사용하는 옵션
-name {문자열}: 파일이름이 문자열과 일치하는 파일을 찾는다.
       문자열에는 다음과 같은 형식으로 사용할 수 있다.
         log: 파일이름이 log인 파일
         *log: 마지막 문자열이 log로 끝나는 모든 파일
         log*: log로 시작하는 파일
         *log*: log라는 문자가 어디든 상관없이 포함하는 파일 (find ./ -name *log*)
         ?log: 첫 글자는 어떤 문자라도 상관없고 뒤에 문자열이 log인 파일
         ??log: 앞에 두 글자는 어떤 문자라도 상관없고 뒤에 문자열이 log인 파일
      -user {사용자}: 특정 사용자 소유권인 파일을 찾을 때 사용한다.
      -perm {퍼미션}: 명시된 퍼미션으로 된 파일을 찾을 때 사용한다.(find /home -perm 755)
      -exec: 찾아진 파일 등과 연계해서 명령을 내리게 하는 옵션으로 사용하기 위해서는 마지막에 \;를 입력해야 한다.
      -type {파일종류}: 디렉터리(d), 파이프(p), 심볼릭 링크(l), 소켓(s), 블록 파일(b), 문자 파일(c), 일반 파일(f) 등을 사용한다.
      -links {숫자}: 특정 개수의 링크를 가진 파일을 찾는다.
      -size {파일 크기 n}: 파일 크기(블록단위)가 일치하는 것을 검색한다. 
        +n은 n 블록보다 큰 파일, -n은 n 블록보다 작은 파일, nc는 n 문자 길이의 파일을 찾는다.
      -atime {일 n}: n일 이전에 접근한 파일을 찾는다.
      -ctime {일 n}: n일 이전에 변경된 파일을 찾는다.
      -mtime {일 n}: n일 이전에 수정된 파일을 찾는다.
      -mmin {분 n}: n분 전에 마지막으로 수정된 파일을 찾는다.
      -newer {파일}: 지정한 파일보다 최근에 갱신된 파일을 검색한다.
```

## tar[옵션] 파일명1 파일명2
```
많이 사용하는 옵션
-x 아카이브로부터 파일을 푼다.
-c 새로운 아카이브를 만듬
-C 압축 해제 경로를 지정
-v 처리되는 과정의 상세 정보를 보여줌
-z gzip으로 압축, ungzip으로 압축해제
-j bzip2를 이용해 압축, bzip2를 이용해 압축해제
-t 아카이브  되는 목록을 보여줌
-d 아카이브와 파일 시스템간의 차이점을 비교
-f 옵션 다음 이름 지정으로, 기본값으로 설정된 이름을 변경 가능.
-r 아카이브 끝에 새로운 파일을 추가적으로 생성
-u 아카이브된 것에 비교하여 새로운 파일만 추가
-A 아카이브에 tar 파일을 추가한다.
-w 모든 동작에 확인을 하도록 함.

tar -xvf a.tar
tar -cf a
```

## 리눅스 시간 수동 세팅

- timezone 세팅
`timedatectl set-timezone Asia/Seoul`

- 소프트웨어 시간 확인
`date`

- 소프트웨어 시간 세팅
`date -s "2019-11-07 10:55:10"`

- 하드웨어 시간 확인
`hwclock -r`

- 하드웨서 시간 세팅
`hwclock --localtime --systohc`

OS시간은 하드웨어 시간에 종속됨.(리부팅하면 하드웨어 시간가져옴)

## 권한
`chmod guo`

`chmod guo+rwx txt.log`

r(4) + w(2) + x(1) = 7

## sftp 로컬로 복사
`sftp root@192.168.66.44`

`get a.txt`

## alias 명령어 설정
source ~/.bashrc

## 검색
`find ./ -name "*파일명.확장자*"`

## 해시 체크
`sha256sum installer.tar`

